#!/usr/bin/env zsh

function update() {
    # 更新 wzsh
    cd ~/.zsh && proxyon
    git pull && git submodule update --init --recursive
    proxyoff && cd - && zsh
}

function env() {
    # 设置获取 wzsh 环境
    local envfile=~/.wzshenv
    if [[ -f $envfile ]]
    then
        cat $envfile
    fi
}

function setenv() {
    # 设置 wzsh 环境
    local envfile=~/.wzshenv
    echo $1 > $envfile
}

if [[ $* ]]
then
    # shell main 函数
    # ./xxxx.sh func_name params1 params2
    # 就是运行 func_name 函数并传入 params1 params2 两个参数
    local cmd="$1"
    # 将参数左移一位
    shift
    local rc=0
    $cmd "$@" || rc=$?
    return $rc
fi
